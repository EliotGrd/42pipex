/****** MANDATORY ******/

./pipex tests/infiles/basic.txt "cat" "wc -l" tests/outfiles/outfile
cat tests/outfiles/outfile
echo $?

./pipex tests/infiles/basic.txt "grep Hello" "wc -c" tests/outfiles/outfile
cat tests/outfiles/outfile
echo $?

./pipex tests/infiles/basic.txt "tr a-z A-Z" "wc -c" tests/outfiles/outfile
cat tests/outfiles/outfile
echo $?

./pipex tests/infiles/basic.txt "cat" "rrqwerqr" tests/outfiles/outfile
echo $?

./pipex tests/infiles/empty.txt "cat" "wc -l" tests/outfiles/outfile
cat tests/outfiles/outfile
echo $?

./pipex tests/infiles/nope.txt "cat" "wc -l" tests/outfiles/outfile
echo $?

touch tests/outfiles/outfile_no_perm
chmod 000 tests/outfiles/outfile_no_perm
./pipex tests/infiles/basic.txt "cat" "wc -l" tests/outfiles/outfile_no_perm
echo $?
chmod 644 tests/outfiles/outfile_no_perm

./pipex tests/infiles/basic.txt "" "cat" tests/outfiles/outfile
echo $?

./pipex
./pipex tests/infiles/basic.txt "cat" tests/outfiles/outfile
echo $?

./pipex tests/infiles/basic.txt "/bin/cat" "wc -l" tests/outfiles/outfile
cat tests/outfiles/outfile

cp /bin/cat ./cat
chmod +x ./cat
./pipex tests/infiles/basic.txt "./cat" "wc -l" tests/outfiles/outfile
cat tests/outfiles/outfile
rm ./cat

./pipex tests/infiles/basic.txt "false" "cat" tests/outfiles/outfile
echo $?

./pipex tests/infiles/basic.txt "grep notfound" "cat" tests/outfiles/outfile
cat tests/outfiles/outfile
echo $?

./pipex tests/infiles/basic.txt "ls /doesnotexist" "cat" tests/outfiles/outfile
cat tests/outfiles/outfile
echo $?

valgrind ./pipex tests/infiles/basic.txt "cat" "cat" tests/outfiles/outfile


